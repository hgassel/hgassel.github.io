!function e(n,t,i){function r(s,a){if(!t[s]){if(!n[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=t[s]={exports:{}};n[s][0].call(l.exports,function(e){var t=n[s][1][e];return r(t?t:e)},l,l.exports,e,n,t,i)}return t[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,n,t){var i=[!1,!1,!1,!1];n.exports.from=function(e){return i[e]},n.exports.update=function(e,n){i[e]=n}},{}],2:[function(e,n,t){function i(e){var n=document.querySelector(".box-colour"),t=e.dataset.name;n.textContent=t}function r(e,n){return function(t){if(!this.classList.contains("is-active")){var r=l(this),o=document.querySelector(".gradient.colour--"+r.substring(1)),s=document.querySelector(".buttons--finishes .button.is-active");a(this),a(o),i(this),s&&c.setColour(e,r,u[s.dataset.id]),n()}}}var o=e("./lib/eventlisteners"),s=e("./lib/liberate")([].slice),a=e("./lib/activate"),c=e("./mesh"),u=e("./paintings"),l=n.exports.get=function(e){var n=s(e.classList);return"#"+n.reduce(function(e,n){return-1!==n.indexOf("colour--")&&(e=n.split("colour--")[1]),e},"")};n.exports.init=function(e,n){var t=s(document.querySelectorAll(".buttons--colours li"));t.forEach(o.add("click",r(e,n))),t[t.length-1].dispatchEvent(new Event("click"))}},{"./lib/activate":4,"./lib/eventlisteners":6,"./lib/liberate":7,"./mesh":10,"./paintings":11}],3:[function(e,n,t){function i(e){var n=document.querySelector(".sidebar-information"),t=document.querySelector(".box-finish");n.textContent=e.information,t.textContent="Finish "+(e.id+1)}function r(e,n){return function(t){var r=u[this.dataset.id];return v?!1:this.classList.contains("is-active")?!1:(v=l.start(),f.remove(e,n),i(r),l.painting(r,o(e,n)),c(this))}}function o(e,n){return function(t,i){var r=document.querySelector(".buttons--colours li.is-active"),o=d.get(r),s=f["new"](i,o,t);e.add(s),v=l.end(),n()}}var s=e("./lib/eventlisteners"),a=e("./lib/liberate")([].slice),c=e("./lib/activate"),u=e("./paintings"),l=e("./load"),d=e("./colours"),f=e("./mesh"),v=!1;n.exports.init=function(e,n){var t=a(document.querySelectorAll(".buttons--finishes li"));t.forEach(s.add("click",r(e,n))),t[0].dispatchEvent(new Event("click"))}},{"./colours":2,"./lib/activate":4,"./lib/eventlisteners":6,"./lib/liberate":7,"./load":8,"./mesh":10,"./paintings":11}],4:[function(e,n,t){var i=e("./liberate")([].slice),r=e("./classlist");n.exports=function(e){i(e.parentNode.childNodes).forEach(r.remove("is-active")),e.classList.add("is-active")}},{"./classlist":5,"./liberate":7}],5:[function(e,n,t){n.exports.add=function(e){return function(n){n.classList.add(e)}},n.exports.remove=function(e){return function(n){n.classList.remove(e)}},n.exports.toggle=function(e){return function(n){n.classList.toggle(e)}}},{}],6:[function(e,n,t){n.exports.add=function(e,n){return function(t){t.addEventListener(e,n)}},n.exports.remove=function(e,n){return function(t){t.removeEventListener(e,n)}}},{}],7:[function(e,n,t){n.exports=Function.bind.bind(Function.call)},{}],8:[function(e,n,t){function i(e){var n=e.loaded/e.total*100,t=document.querySelector(".loading-progress");t.parentNode.classList.remove("hidden"),t.style.width=n+"%"}function r(){document.querySelector(".loading").classList.add("hidden")}function o(){return s(document.querySelectorAll(".buttons--finishes li"))}var s=e("./lib/liberate")([].slice),a=e("./lib/classlist"),c=e("./cache"),u=new THREE.JSONLoader;n.exports.start=function(){return o().forEach(a.add("is-loading")),!0},n.exports.end=function(){return o().forEach(a.remove("is-loading")),r(),!1},n.exports.painting=function(e,n){var t=c.from(e.id);return t?n(e,t):void u.load(e.url,function(t){t.mergeVertices(),t.center(),c.update(e.id,t),n(e,t)},i)}},{"./cache":1,"./lib/classlist":5,"./lib/liberate":7}],9:[function(e,n,t){var i=THREE.ImageUtils.loadTexture("../img/textures/wood.jpeg");n.exports.get=function(e){return[new THREE.MeshLambertMaterial({map:i,side:THREE.DoubleSide}),new THREE.MeshLambertMaterial({color:new THREE.Color(e),side:THREE.DoubleSide})]}},{}],10:[function(e,n,t){function i(e){return e.children.filter(function(e){return e instanceof THREE.Mesh})[0]}var r=e("./materials");n.exports.setColour=function(e,n,t){var o=i(e);if(o){var s=r.get(n);t.reversedMesh&&(s=s.reverse()),o.material=new THREE.MeshFaceMaterial(s)}},n.exports["new"]=function(e,n,t){var i=r.get(n);t.reversedMesh&&(i=i.reverse());var o=new THREE.Mesh(e,new THREE.MeshFaceMaterial(i));return o.rotation.fromArray(t.rotation),o.scale.fromArray(t.scale),o},n.exports.remove=function(e,n){var t=i(e);e.remove(t),n()}},{"./materials":9}],11:[function(e,n,t){n.exports=[{id:0,url:"../obj/painting-1.js",rotation:[.1,-1.15,.02],scale:[1,1,1],reversedMesh:!1,cache:!1,information:"Available sizes: 48 × 40 × 4 in. or 72 × 60 × 4 in. with one of four finishes. Finish available in one of two greys."},{id:1,url:"../obj/painting-2.js",rotation:[-1.15,2.65,-.15],scale:[1.2,1.2,1.2],reversedMesh:!1,cache:!1,information:"Available sizes: 48 × 40 × 4 in. or 72 × 60 × 4 in. with one of four finishes. Finish available in one of two greys."},{id:2,url:"../obj/painting-4.js",rotation:[.85,.12,1.45],scale:[1.15,1.15,1.15],reversedMesh:!1,cache:!1,information:"Available sizes: 48 × 40 × 4 in. or 72 × 60 × 4 in. with one of four finishes. Finish available in one of two greys."},{id:3,url:"../obj/painting-5.js",rotation:[.82,.15,1.41],scale:[1.3,1.3,1.3],reversedMesh:!0,cache:!1,information:"Available sizes: 48 × 40 × 4 in. or 72 × 60 × 4 in. with one of four finishes. Finish available in one of two greys."}]},{}],12:[function(e,n,t){function i(){var e=window.innerWidth/window.innerHeight,n=new THREE.PerspectiveCamera(60,e,1,2e3);return n.position.x=0,n.position.y=0,n.position.z=40,n}function r(e){var n=new THREE.AmbientLight(1052720),t=new THREE.DirectionalLight(16777215);t.position.set(0,1,1),e.add(n),e.add(t)}function o(e,n,t){var i=new THREE.OrbitControls(n);return i.damping=.2,i.addEventListener("change",t),i}function s(){var e=new THREE.WebGLRenderer({alpha:!0});return e.setPixelRatio(window.devicePixelRatio),e.setSize(window.innerWidth,window.innerHeight),e}function a(e,n,t){return function(){t.render(e,n)}}function c(e,n,t){return function(){e.aspect=window.innerWidth/window.innerHeight,e.updateProjectionMatrix(),n.setSize(window.innerWidth,window.innerHeight),t()}}function u(){var e=document.querySelector(".render"),n=i(),t=s(),c=new THREE.Scene,u=a(c,n,t),l=o(c,n,u);return r(c),e.appendChild(t.domElement),{camera:n,controls:l,renderer:t,update:u,scene:c}}function l(e){return function(){requestAnimationFrame(l(e)),e.update()}}n.exports.init=function(){var e=u();return l(e.controls),e.update(),window.addEventListener("resize",c(e.camera,e.renderer,e.update)),e}},{}],13:[function(e,n,t){var i=e("./scene").init,r=e("./colours"),o=e("./finishes");document.addEventListener("DOMContentLoaded",function(){var e=i();r.init(e.scene,e.update),o.init(e.scene,e.update)})},{"./colours":2,"./finishes":3,"./scene":12}]},{},[13]);